import{Prop as e,Component as t}from"vue-property-decorator";import{tsParticles as n}from"@tsparticles/engine";import o from"vue";function i(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var d=e.length-1;d>=0;d--)(i=e[d])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}function r(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{c(o.next(e))}catch(e){r(e)}}function d(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,d)}c((o=o.apply(e,t||[])).next())}))}"function"==typeof SuppressedError&&SuppressedError;const s=new o;function d(e){var t;return r(this,void 0,void 0,(function*(){if(!e.id)throw new Error("Prop 'id' is required!");(t=>{e.container=t,e.container&&e.particlesLoaded&&e.particlesLoaded(e.container)})(yield n.load({id:e.id,options:null!==(t=e.options)&&void 0!==t?t:{},url:e.url}))}))}let c=class extends o{constructor(){super(...arguments),this.initHandler=()=>r(this,void 0,void 0,(function*(){yield d(this)}))}created(){s.$on("particles-init",this.initHandler)}mounted(){this.$nextTick((()=>{d(this)}))}beforeDestroy(){var e;null===(e=this.container)||void 0===e||e.destroy(),s.$off("particles-init",this.initHandler)}};function a(e,t,n,o,i,r,s,d,c,a){"boolean"!=typeof s&&(c=d,d=s,s=!1);const l="function"==typeof n?n.options:n;let p;if(e&&e.render&&(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,i&&(l.functional=!0)),o&&(l._scopeId=o),r?(p=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,c(e)),e&&e._registeredComponents&&e._registeredComponents.add(r)},l._ssrRegister=p):t&&(p=s?function(e){t.call(this,a(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,d(e))}),p)if(l.functional){const e=l.render;l.render=function(t,n){return p.call(n),e(t,n)}}else{const e=l.beforeCreate;l.beforeCreate=e?[].concat(e,p):[p]}return n}i([e({required:!0})],c.prototype,"id",void 0),i([e()],c.prototype,"options",void 0),i([e()],c.prototype,"url",void 0),i([e()],c.prototype,"particlesLoaded",void 0),c=i([t],c);const l=c;var p=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{attrs:{id:e.id}})};p._withStripped=!0;const f=a({render:p,staticRenderFns:[]},undefined,l,undefined,false,undefined,!1,void 0,void 0,void 0),u={install:(e,t)=>{e.component("vue-particles",f),t&&t.init&&t.init(n).then((()=>{s.$emit("particles-init")}))}};export{f as ParticlesComponent,u as default};
